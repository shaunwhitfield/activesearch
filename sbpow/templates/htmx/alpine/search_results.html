<span id="searching_msg" class="htmx-indicator"> 
    Searching... 
</span> 

<div x-data="{
    showModal: false,
    name: '',
    religion: '',
    denomination: '',
    created_date: '',
    address1: '',
    address2: '',
    zip_code: '',
    city: '',
    state: '',
}">

    <table id="sbpow_table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Religion</th>
                <th>Denomination</th>
                <th>Address 1</th>
                <th>Address 2</th>
                <th>City</th>
                <th>ZIP</th>
                <th>State</th>
            </tr>
        </thead>
        {% for item in items %}
            <tr @click="
                showModal = !showModal;
                name ='{{item.name}}';
                religion ='{{item.religion}}';
                denomination ='{{item.denomination}}';
                created_date ='{{item.created_date}}';
                address1 ='{{item.address1}}';
                address2 ='{{item.address2}}';
                zip_code ='{{item.zip_code}}';
                city ='{{item.city}}';
                state ='{{item.state}}';
            ">
                <td>{{ item.name }}</td>
                <td>{{ item.religion }}</td>
                <td>{{ item.denomination }}</td>
                <td>{{ item.address1 }}</td>
                <td>{{ item.address2 }}</td>
                <td>{{ item.city }}</td>
                <td>{{ item.zip_code }}</td>
                <td>{{ item.state }}</td>
            </tr>
        {% endfor %}
    </table>

    <!-- Modal section -->
    <div role="dialog"
        x-show="showModal"
        @click="showModal = false;"
        @click.away="showModal = false;"
        class="fixed top-0 left-0 w-full h-screen flex justify-center items-center"
    >
        <!-- Shaded backdrop: -->
        <div class="absolute top-0 left-0 w-full h-screen bg-black opacity-70" x-show="showModal"></div>
        <!-- The modal itself -->
        <div @click.stop=""
            x-show="showModal"
            class="flex flex-col rounded-lg shadow-lg overflow-hidden bg-white w-2/5 h-2/5 z-10"
        >
            <h2 class="border-b p-2.5" x-text="name"></h2>
            <div class="p-6">
                <p>Religion: <span x-text="religion"></span></p>
                <p>Denomination: <span x-text="denomination"></span></p>
                <p>Address 1: <span x-text="address1"></span></p>
                <p x-show="address2 != 'None'">Address 2: <span x-text="address2"></span></p>
                <p>City: <span x-text="city"></span></p>
                <p>ZIP: <span x-text="zip_code"></span></p>
                <p>State: <span x-text="state"></span></p>
            </div>
        </div>
    </div>
</div>
